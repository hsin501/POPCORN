{"ast":null,"code":"var _jsxFileName = \"C:\\\\study\\\\react\\\\usepopcorn\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport StarRating from './StarRating';\n\n// API base URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://imdb.iamidiotareyoutoo.com/search';\nexport default function App() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [watched, setWatched] = useState([]);\n  const [query, setQuery] = useState('');\n  const [totalResults, setTotalResults] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [triggerFetch, setTriggerFetch] = useState(false);\n  const handleAddWatched = movie => {\n    setWatched(watched => {\n      const existingMovie = watched.find(m => m['#IMDB_ID'] === movie['#IMDB_ID']);\n      if (existingMovie) {\n        return watched.map(m => m['#IMDB_ID'] === movie['#IMDB_ID'] ? {\n          ...m,\n          userRating: movie.userRating\n        } : m);\n      } else {\n        return [...watched, movie];\n      }\n    });\n  };\n  useEffect(() => {\n    const fetchMovies = async () => {\n      if (query.length < 1) {\n        setMovies([]);\n        setTotalResults(0);\n        setIsLoading(false);\n        return;\n      }\n      try {\n        setIsLoading(true);\n        const res = await fetch(`${API_URL}?q=${encodeURIComponent(query.trim())}`);\n        const data = await res.json();\n        if (data.ok && Array.isArray(data.description)) {\n          setMovies(data.description);\n          setTotalResults(data.description.length);\n        } else {\n          throw new Error('Invalid data format received from API');\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (triggerFetch) {\n      fetchMovies();\n      setTriggerFetch(true);\n    }\n  }, [query, triggerFetch]);\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      setTriggerFetch(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        query: query,\n        setQuery: setQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NumResults, {\n        totalResults: totalResults\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(MovieList, {\n          movies: movies,\n          onAddWatched: handleAddWatched,\n          loading: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(WatchedSummary, {\n          watched: watched\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WatchedMoviesList, {\n          watched: watched\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"1Y4w+UqFUX3ZXOGqeCxbPjY8aKI=\");\n_c = App;\nfunction NavBar({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"nav-bar\",\n    children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_c2 = NavBar;\nfunction Logo() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"logo\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      children: \"\\uD83C\\uDF7F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"USE POPCORN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Logo;\nfunction NumResults({\n  totalResults\n}) {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"num-results\",\n    children: [\"Found \", /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: totalResults\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), \" results\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_c4 = NumResults;\nfunction Search({\n  query,\n  setQuery\n}) {\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    className: \"search\",\n    type: \"text\",\n    placeholder: \"Search movies...\",\n    value: query,\n    onChange: e => setQuery(e.target.value)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n_c5 = Search;\nfunction Main({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 10\n  }, this);\n}\n_c6 = Main;\nfunction Box({\n  children\n}) {\n  _s2();\n  const [isOpen, setIsOpen] = useState(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-toggle\",\n      onClick: () => setIsOpen(open => !open),\n      children: isOpen ? '–' : '+'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), isOpen && children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n}\n\n// function WatchedBox() {\n//   const [watched, setWatched] = useState(tempWatchedData);\n//   const [isOpen2, setIsOpen2] = useState(true);\n\n//   return (\n//     <div className='box'>\n//       <button\n//         className='btn-toggle'\n//         onClick={() => setIsOpen2((open) => !open)}\n//       >\n//         {isOpen2 ? '–' : '+'}\n//       </button>\n//       {isOpen2 && (\n//         <>\n//           <WatchedSummary watched={watched} />\n//           <WatchedMoviesList watched={watched} />\n//         </>\n//       )}\n//     </div>\n//   );\n// }\n_s2(Box, \"mEi83NlPXQzy/XIDfTYWzOSvaHw=\");\n_c7 = Box;\nfunction MovieList({\n  movies,\n  onAddWatched,\n  loading\n}) {\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"list\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"circle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"circle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"circle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"circle\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this) : movies === null || movies === void 0 ? void 0 : movies.map(movie => /*#__PURE__*/_jsxDEV(Movie, {\n      movie: movie,\n      onAddWatched: onAddWatched\n    }, movie['#IMDB_ID'], false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n_c8 = MovieList;\nfunction Movie({\n  movie,\n  onAddWatched\n}) {\n  _s3();\n  const [userRating, setUserRating] = useState(0);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const handleRating = rating => {\n    setUserRating(rating);\n    onAddWatched({\n      ...movie,\n      userRating: rating\n    });\n  };\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        width: '100%',\n        paddingBottom: '150%'\n      },\n      children: [!imageLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        style: {\n          position: 'absolute',\n          top: '-30px',\n          left: '-55px',\n          zIndex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"circle\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: movie['#IMG_POSTER'],\n        alt: `${movie['#TITLE']} poster`,\n        onLoad: handleImageLoad,\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          display: imageLoaded ? 'block' : 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: movie['#TITLE']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDCC5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: movie['#YEAR']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StarRating, {\n        maxRating: 5,\n        messages: ['超級難看', '不好看', '還行', '很好看', '超級好看'],\n        defaultRating: userRating,\n        onRate: handleRating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s3(Movie, \"uXvbX2iWQu1EFu3X1fXBFr0FckQ=\");\n_c9 = Movie;\nfunction WatchedMoviesList({\n  watched\n}) {\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"list\",\n    children: watched.map(movie => /*#__PURE__*/_jsxDEV(WatchedMovie, {\n      movie: movie\n    }, movie['#IMDB_ID'], false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n}\n_c10 = WatchedMoviesList;\nfunction WatchedMovie({\n  movie\n}) {\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: movie['#IMG_POSTER'],\n      alt: `${movie['#TITLE']} poster`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: movie['#TITLE']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: movie['#RANK']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDF1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: movie.userRating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDD17\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `https://www.imdb.com/title/${movie['#IMDB_ID']}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          style: {\n            color: 'inherit'\n          },\n          children: \"IMDb\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this);\n}\n_c11 = WatchedMovie;\nfunction WatchedSummary({\n  watched\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"summary\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Movies you watched\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"#\\uFE0F\\u20E3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [watched.length, \" movies\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"RANK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDF1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Your Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n}\n_c12 = WatchedSummary;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"NavBar\");\n$RefreshReg$(_c3, \"Logo\");\n$RefreshReg$(_c4, \"NumResults\");\n$RefreshReg$(_c5, \"Search\");\n$RefreshReg$(_c6, \"Main\");\n$RefreshReg$(_c7, \"Box\");\n$RefreshReg$(_c8, \"MovieList\");\n$RefreshReg$(_c9, \"Movie\");\n$RefreshReg$(_c10, \"WatchedMoviesList\");\n$RefreshReg$(_c11, \"WatchedMovie\");\n$RefreshReg$(_c12, \"WatchedSummary\");","map":{"version":3,"names":["useState","useEffect","StarRating","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","App","_s","movies","setMovies","watched","setWatched","query","setQuery","totalResults","setTotalResults","isLoading","setIsLoading","triggerFetch","setTriggerFetch","handleAddWatched","movie","existingMovie","find","m","map","userRating","fetchMovies","length","res","fetch","encodeURIComponent","trim","data","json","ok","Array","isArray","description","Error","err","console","error","handleKeyDown","e","key","children","NavBar","Search","fileName","_jsxFileName","lineNumber","columnNumber","NumResults","Main","Box","MovieList","onAddWatched","loading","WatchedSummary","WatchedMoviesList","_c","className","Logo","_c2","role","_c3","_c4","type","placeholder","value","onChange","target","_c5","_c6","_s2","isOpen","setIsOpen","onClick","open","_c7","Movie","_c8","_s3","setUserRating","imageLoaded","setImageLoaded","handleRating","rating","handleImageLoad","style","position","width","paddingBottom","top","left","zIndex","src","alt","onLoad","height","display","marginTop","maxRating","messages","defaultRating","onRate","_c9","WatchedMovie","_c10","href","rel","color","_c11","_c12","$RefreshReg$"],"sources":["C:/study/react/usepopcorn/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport StarRating from './StarRating';\n\n// API base URL\nconst API_URL = 'https://imdb.iamidiotareyoutoo.com/search';\n\nexport default function App() {\n  const [movies, setMovies] = useState([]);\n  const [watched, setWatched] = useState([]);\n  const [query, setQuery] = useState('');\n  const [totalResults, setTotalResults] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [triggerFetch, setTriggerFetch] = useState(false);\n\n  const handleAddWatched = (movie) => {\n    setWatched((watched) => {\n      const existingMovie = watched.find(\n        (m) => m['#IMDB_ID'] === movie['#IMDB_ID']\n      );\n      if (existingMovie) {\n        return watched.map((m) =>\n          m['#IMDB_ID'] === movie['#IMDB_ID']\n            ? { ...m, userRating: movie.userRating }\n            : m\n        );\n      } else {\n        return [...watched, movie];\n      }\n    });\n  };\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      if (query.length < 1) {\n        setMovies([]);\n        setTotalResults(0);\n        setIsLoading(false);\n        return;\n      }\n      try {\n        setIsLoading(true);\n        const res = await fetch(\n          `${API_URL}?q=${encodeURIComponent(query.trim())}`\n        );\n        const data = await res.json();\n        if (data.ok && Array.isArray(data.description)) {\n          setMovies(data.description);\n          setTotalResults(data.description.length);\n        } else {\n          throw new Error('Invalid data format received from API');\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (triggerFetch) {\n      fetchMovies();\n      setTriggerFetch(true);\n    }\n  }, [query, triggerFetch]);\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      setTriggerFetch(true);\n    }\n  };\n\n  return (\n    <>\n      <NavBar>\n        <Search query={query} setQuery={setQuery} />\n        <NumResults totalResults={totalResults} />\n      </NavBar>\n\n      <Main>\n        {/* 法1 */}\n\n        <Box>\n          <MovieList\n            movies={movies}\n            onAddWatched={handleAddWatched}\n            loading={isLoading}\n          />\n        </Box>\n        <Box>\n          <WatchedSummary watched={watched} />\n          <WatchedMoviesList watched={watched} />\n        </Box>\n\n        {/* 法2 */}\n        {/* <Box element={<MovieList movies={movies} />} />\n        <Box\n          element={\n            <>\n              <WatchedSummary watched={watched} />\n              <WatchedMoviesList watched={watched} />\n            </>\n          }\n        /> */}\n      </Main>\n    </>\n  );\n}\n\nfunction NavBar({ children }) {\n  return (\n    <nav className='nav-bar'>\n      <Logo />\n      {children}\n    </nav>\n  );\n}\nfunction Logo() {\n  return (\n    <div className='logo'>\n      <span role='img'>🍿</span>\n      <h1>USE POPCORN</h1>\n    </div>\n  );\n}\n\nfunction NumResults({ totalResults }) {\n  return (\n    <p className='num-results'>\n      Found <strong>{totalResults}</strong> results\n    </p>\n  );\n}\nfunction Search({ query, setQuery }) {\n  return (\n    <input\n      className='search'\n      type='text'\n      placeholder='Search movies...'\n      value={query}\n      onChange={(e) => setQuery(e.target.value)}\n    />\n  );\n}\n\nfunction Main({ children }) {\n  return <main className='main'>{children}</main>;\n}\n\nfunction Box({ children }) {\n  const [isOpen, setIsOpen] = useState(true);\n  return (\n    <div className='box'>\n      <button className='btn-toggle' onClick={() => setIsOpen((open) => !open)}>\n        {isOpen ? '–' : '+'}\n      </button>\n      {isOpen && children}\n    </div>\n  );\n}\n\n// function WatchedBox() {\n//   const [watched, setWatched] = useState(tempWatchedData);\n//   const [isOpen2, setIsOpen2] = useState(true);\n\n//   return (\n//     <div className='box'>\n//       <button\n//         className='btn-toggle'\n//         onClick={() => setIsOpen2((open) => !open)}\n//       >\n//         {isOpen2 ? '–' : '+'}\n//       </button>\n//       {isOpen2 && (\n//         <>\n//           <WatchedSummary watched={watched} />\n//           <WatchedMoviesList watched={watched} />\n//         </>\n//       )}\n//     </div>\n//   );\n// }\nfunction MovieList({ movies, onAddWatched, loading }) {\n  return (\n    <ul className='list'>\n      {loading ? (\n        <div className='loader'>\n          <div className='circle'>\n            <div className='dot'></div>\n            <div className='outline'></div>\n          </div>\n          <div className='circle'>\n            <div className='dot'></div>\n            <div className='outline'></div>\n          </div>\n          <div className='circle'>\n            <div className='dot'></div>\n            <div className='outline'></div>\n          </div>\n          <div className='circle'>\n            <div className='dot'></div>\n            <div className='outline'></div>\n          </div>\n        </div>\n      ) : (\n        movies?.map((movie) => (\n          <Movie\n            movie={movie}\n            key={movie['#IMDB_ID']}\n            onAddWatched={onAddWatched}\n          />\n        ))\n      )}\n    </ul>\n  );\n}\n\nfunction Movie({ movie, onAddWatched }) {\n  const [userRating, setUserRating] = useState(0);\n  const [imageLoaded, setImageLoaded] = useState(false);\n\n  const handleRating = (rating) => {\n    setUserRating(rating);\n    onAddWatched({ ...movie, userRating: rating });\n  };\n\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n\n  return (\n    <li>\n      <div\n        style={{ position: 'relative', width: '100%', paddingBottom: '150%' }}\n      >\n        {!imageLoaded && (\n          <div\n            className='loader'\n            style={{\n              position: 'absolute',\n              top: '-30px',\n              left: '-55px',\n              zIndex: 1,\n            }}\n          >\n            <div className='circle'>\n              <div className='dot'></div>\n              <div className='outline'></div>\n            </div>\n          </div>\n        )}\n        <img\n          src={movie['#IMG_POSTER']}\n          alt={`${movie['#TITLE']} poster`}\n          onLoad={handleImageLoad}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            display: imageLoaded ? 'block' : 'none',\n          }}\n        />\n      </div>\n      <h3>{movie['#TITLE']}</h3>\n      <div>\n        <p style={{ marginTop: '10px' }}>\n          <span>📅</span>\n          <span>{movie['#YEAR']}</span>\n        </p>\n        <StarRating\n          maxRating={5}\n          messages={['超級難看', '不好看', '還行', '很好看', '超級好看']}\n          defaultRating={userRating}\n          onRate={handleRating}\n        />\n      </div>\n    </li>\n  );\n}\n\nfunction WatchedMoviesList({ watched }) {\n  return (\n    <ul className='list'>\n      {watched.map((movie) => (\n        <WatchedMovie movie={movie} key={movie['#IMDB_ID']} />\n      ))}\n    </ul>\n  );\n}\n\nfunction WatchedMovie({ movie }) {\n  return (\n    <li>\n      <img src={movie['#IMG_POSTER']} alt={`${movie['#TITLE']} poster`} />\n      <h3>{movie['#TITLE']}</h3>\n      <div>\n        <p>\n          <span>🏆</span>\n          <span>{movie['#RANK']}</span>\n        </p>\n        <p>\n          <span>🌟</span>\n          <span>{movie.userRating}</span>\n        </p>\n\n        <p>\n          <span>🔗</span>\n          <a\n            href={`https://www.imdb.com/title/${movie['#IMDB_ID']}`}\n            target='_blank'\n            rel='noopener noreferrer'\n            style={{ color: 'inherit' }}\n          >\n            IMDb\n          </a>\n        </p>\n      </div>\n    </li>\n  );\n}\nfunction WatchedSummary({ watched }) {\n  return (\n    <div className='summary'>\n      <h2>Movies you watched</h2>\n      <div>\n        <p>\n          <span>#️⃣</span>\n          <span>{watched.length} movies</span>\n        </p>\n        <p>\n          <span>🏆</span>\n          <span>RANK</span>\n        </p>\n        <p>\n          <span>🌟</span>\n          <span>Your Rating</span>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}